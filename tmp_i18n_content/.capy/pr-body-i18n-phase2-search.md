## Summary
This PR introduces App Router i18n (fr/en) and applies the first translation pass to the most user‑visible surfaces, with locale‑aware routing and middleware.

## Key changes
- i18n foundations
  - App Router locale segment and context: `app/[locale]/layout.tsx` provides `I18nProvider` (SSR dictionary loader with fr fallback).
  - Dynamic dictionaries: `locales/fr.json`, `locales/en.json` with translation keys; loader in `lib/i18n/dictionaries.ts`.
  - React context and hook: `components/i18n/i18n-provider.tsx`, `lib/i18n/index.ts`, `lib/i18n/useT.ts`.
  - Localized links and paths: `components/i18n/link.tsx`, `lib/i18n/path.ts` (`ensureLocalePath`, `swapLocale`, `getLocaleFromPath`).

- Routing and middleware
  - Locale segment wrappers for pages (Home, Lookout, XQL, Search, About, Pricing, Terms, Privacy, Checkout, Success, New, Auth) under `app/[locale]/…` without moving original file logic.
  - Middleware locale‑aware with exclusions (/_next, /api, static assets, robots.txt, manifest.ts, favicon/icon/opengraph/twitter images, shortlinks /ph /raycast /plst /blog).
  - Fallback convenience: `/settings` → `/fr#settings`, and `/[locale]/settings` → `/[locale]#settings`.
  - Protect `/[locale]/lookout` and `/[locale]/xql` for unauth; redirect auth flows to localized home.

- UI integration
  - Navbar: localized labels and links (New, Upgrade, Free Plan); links now prefixed by current locale.
  - Sign-in: titles, labels, placeholders, buttons via t(); post-login redirect to `/{locale}`.
  - 404: localized titles/descriptions, link back home via LocalizedLink.
  - Settings dialog: Preferences tab with language selector (FR/EN). On change, sets `locale` cookie (30 days) and swaps the first path segment in-place using `router.replace`.

- Search surfaces (Phase 2 lite)
  - ChatInterface: localized daily limit banner/CTAs, pricing links prefixed with `/{locale}`.
  - Messages: aria‑labels (show more/less, edit/copy message), toasts and captions; attachments viewer tooltips (copy link, download, open in new tab/fullscreen) and PDF fallback texts localized.
  - Markdown renderer: Copy code / Copied!, Click to copy, wrap toggles and toasts, “N lines”, and “Download CSV” localized.
  - Chat History button: tooltip and aria localized.

## Why
- Prepare the application for multilingual users without auto‑detection, enforcing explicit locale prefixes.
- Improve accessibility (aria labels) and consistency across surfaces.
- Maintain existing app structure while minimizing risk (wrappers under [locale] + middleware redirections).

## Impact
- URL structure now includes leading locale segment for app pages (e.g. `/fr/...`, `/en/...`).
- Shortlinks and internal APIs remain untouched and excluded from i18n routing.
- Existing auth/guard flows adapted to localized paths.

## QA checklist
- Routing
  - Go to `/` redirects to `/fr`; set `locale=en` cookie then confirm redirect to `/en`.
  - Verify `/api/*`, `/_next/*`, static files, `/robots.txt`, `/manifest.ts`, favicon/icon/opengraph/twitter images, and `/ph`, `/raycast`, `/plst`, `/blog` are NOT prefixed or redirected.
  - Validate `/settings` → `/fr#settings` and `/{locale}/settings` → `/{locale}#settings`.
  - Check protected routes: `/{locale}/lookout`, `/{locale}/xql` require auth; unauth redirects to `/{locale}/sign-in`.

- UI translations
  - Navbar: New, Upgrade, Free Plan show translated strings; links are locale‑aware.
  - Sign-in: headers, labels, placeholders, button text localized; post‑login lands on `/{locale}`.
  - 404: content localized; “Return to home” link is locale‑aware.
  - Settings → Preferences: language selector writes `locale` cookie and replaces the current URL with swapped locale, preserving path and query.

- Search surface
  - ChatInterface: daily limit messages and CTAs are localized; pricing opens `/{locale}/pricing`.
  - Messages: show more/less aria labels, edit/copy aria, toasts, attachments tooltips/fallback texts localized.
  - Markdown: copy code tooltips/toasts, wrap toggles, lines count, Download CSV localized.
  - Chat History button: tooltip and aria localized.

## Notes
- html `lang` and localized metadata can be added in a follow‑up if desired.
- Further pages (About, Pricing, Terms, Privacy, etc.) can be fully translated in Phase 2.


₍ᐢ•(ܫ)•ᐢ₎ Generated by [Capy](https://capy.ai) ([view task](https://capy.ai/project/66498d8a-c43e-4067-8a80-ee12ebebda57/task/89718253-0ad1-494a-9534-ea1dbe7f70aa))
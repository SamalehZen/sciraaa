# Admin: Integrate Orcish Dashboard shell, themes, Tabler icons, and data wiring

Summary
- Replace admin UI shell with Orcish layout (sidebar + header) and preserve existing auth/middleware protections.
- Add Orcish ActiveThemeProvider and theme selector in admin only (cookie `active_theme`, dark mode remains via `next-themes`).
- Map Orcish sidebar to existing routes: `/admin`, `/admin/users`, `/admin/audit-logs`, `/admin/exports`, `/admin/settings`.
- Wire Orcish interactive chart to `GET /api/admin/metrics?period={24h|7d|30d}` with 7/30/90 controls (90 → 30d fallback).
- Restyle Users and Audit Logs pages with shadcn/orcish cards, keep existing functionality; no extra KPIs.
- Adopt `@tabler/icons-react` across the admin shell and controls; avoid lucide usage in admin scope.
- Align Tailwind v4 tokens and add Orcish theme classes to globals without breaking non-admin screens.

Changes
- app/admin/layout.tsx: Replace shell with Orcish Sidebar + Header; add ActiveThemeProvider (admin-only); keep presence/metrics listeners.
- app/admin/page.tsx: Replace time-series block with Orcish interactive area chart (`ChartAreaAdmin`) fetching real metrics.
- app/admin/users/page.tsx: Restyle into card + table with status badges; retain existing actions and data source.
- app/admin/audit-logs/page.tsx: Restyle into card; add CSV/PDF export buttons using existing `/api/admin/exports`.
- components/orcish/**: Add Orcish shell components (AppSidebar, SiteHeader, theme selector, nav components) and Tabler ModeSwitcher + SidebarTrigger.
- app/globals.css: Append Orcish theme classes (`.theme-*`, `.theme-scaled`) and `--header-height` variable.
- package.json: Add dependency `@tabler/icons-react`.

Acceptance alignment
- All `/admin` routes use Orcish shell (sidebar + header), theme selector persists via `active_theme` cookie; dark mode works.
- Sidebar menu points to sciraaa admin routes (no 404s under normal conditions).
- Admin icons use Tabler; lucide is retained elsewhere.
- Dashboard chart shows real data via `/api/admin/metrics` with 7/30/90 controls → mapped to API periods.
- Users page shows real users from `/api/admin/users` with required columns and pagination compatibility preserved.
- Audit Logs page keeps functionality, visuals aligned with shadcn/orcish.
- Tailwind v4 OK, no style conflicts observed; auth/redirects untouched.
- Responsive behavior: collapsible sidebar and mobile-friendly table preserved.

Notes
- Mode switcher and sidebar trigger use Tabler icons in admin header; core UI primitives retain lucide internally outside admin.
- The theme classes are additive and only apply when ActiveThemeProvider sets `theme-*` on body (admin pages).



₍ᐢ•(ܫ)•ᐢ₎ Generated by [Capy](https://capy.ai) ([view task](https://capy.ai/project/d27de4b9-d629-4032-b185-7e04e12e0ea7/task/8a4f6423-f97c-46b9-bf56-fd88ccbceba6))